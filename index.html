<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Conformidad de Capacitaci√≥n - COMO</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        min-height: 100vh;
        padding: 10px;
        margin: 0;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 15px 60px rgba(0, 0, 0, 0.4);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #0d47a1 0%, #1565c0 100%);
        color: white;
        padding: 20px 15px;
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
      }

      .logo-header {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0;
        width: 80px;
        height: 80px;
        flex-shrink: 0;
      }

      .logo-box {
        width: 40px;
        height: 40px;
        font-weight: bold;
        font-size: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px solid black;
      }

      .logo-c {
        background: black;
        color: white;
        border: none;
      }
      .logo-o {
        background: white;
        color: black;
      }
      .logo-m {
        background: white;
        color: black;
      }
      .logo-o2 {
        background: black;
        color: white;
        border: none;
      }

      .header-text h1 {
        font-size: 24px;
        font-weight: bold;
        line-height: 1.2;
        margin-bottom: 5px;
      }

      .header-text p {
        font-size: 13px;
        opacity: 0.95;
      }

      .content {
        padding: 30px;
      }

      .form-section {
        margin-bottom: 35px;
        padding-bottom: 25px;
        border-bottom: 2px solid #e0e0e0;
      }

      .form-section:last-of-type {
        border-bottom: none;
      }

      .section-title {
        font-size: 18px;
        font-weight: bold;
        color: #0d47a1;
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 3px solid #0d47a1;
        display: inline-block;
      }

      .form-group {
        margin-bottom: 18px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
        font-size: 14px;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-family: inherit;
        font-size: 14px;
        transition: all 0.3s;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #0d47a1;
        box-shadow: 0 0 8px rgba(13, 71, 161, 0.2);
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .checkbox-group {
        margin: 15px 0;
      }

      .checkbox-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 16px;
        gap: 12px;
      }

      .checkbox-item input {
        width: 20px;
        height: 20px;
        margin-top: 3px;
        cursor: pointer;
        flex-shrink: 0;
      }

      .checkbox-item label {
        margin: 0;
        font-weight: normal;
        cursor: pointer;
        font-size: 13px;
        line-height: 1.5;
        color: #555;
      }

      .signature-canvas {
        border: 3px solid #0d47a1;
        border-radius: 6px;
        margin: 15px 0;
        background: white;
        display: block;
        width: 100%;
        height: 150px;
        cursor: crosshair;
      }

      .signature-status {
        padding: 12px 15px;
        border-radius: 6px;
        margin: 10px 0;
        font-weight: 500;
        font-size: 14px;
      }

      .status-pending {
        background: #fff3cd;
        color: #856404;
        border: 2px solid #ffc107;
      }

      .status-completed {
        background: #d4edda;
        color: #155724;
        border: 2px solid #28a745;
      }

      .buttons {
        display: flex;
        gap: 12px;
        margin-top: 25px;
        flex-wrap: wrap;
      }

      button {
        padding: 14px 28px;
        border: none;
        border-radius: 6px;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        flex: 1;
        min-width: 150px;
      }

      .btn-primary {
        background: linear-gradient(135deg, #0d47a1 0%, #1565c0 100%);
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(13, 71, 161, 0.4);
      }

      .btn-secondary {
        background: #f0f0f0;
        color: #333;
        border: 2px solid #ddd;
      }

      .btn-secondary:hover {
        background: #e0e0e0;
      }

      .success-message {
        display: none;
        background: #d4edda;
        border: 2px solid #28a745;
        color: #155724;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        text-align: center;
        animation: slideIn 0.3s ease;
      }

      .success-message.show {
        display: block;
      }

      .loading {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 40px 60px;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        z-index: 9999;
        text-align: center;
        animation: slideIn 0.3s ease;
      }

      .loading.show {
        display: block;
      }

      .spinner {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #0d47a1;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
      }

      .loading p {
        color: #0d47a1;
        font-size: 16px;
        font-weight: 600;
        margin: 0;
      }

      .toast {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        color: white;
        padding: 16px 24px;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(40, 167, 69, 0.4);
        z-index: 10000;
        animation: slideInRight 0.4s ease;
        display: none;
        min-width: 300px;
      }

      .toast.show {
        display: block;
      }

      .toast.error {
        background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        box-shadow: 0 5px 20px rgba(220, 53, 69, 0.4);
      }

      .toast.warning {
        background: linear-gradient(135deg, #ffc107 0%, #ffb300 100%);
        box-shadow: 0 5px 20px rgba(255, 193, 7, 0.4);
        color: #333;
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(400px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9998;
      }

      .overlay.show {
        display: block;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .terminos-section {
        background: #f5f5f5;
        padding: 18px;
        border-radius: 6px;
        margin: 15px 0;
      }

      .terminos-section h4 {
        color: #0d47a1;
        margin: 15px 0 10px 0;
        font-size: 14px;
        font-weight: bold;
      }

      .terminos-section p {
        margin-bottom: 12px;
        line-height: 1.6;
        font-size: 13px;
        color: #555;
      }

      .info-box {
        background: #f0f4ff;
        border-left: 5px solid #0d47a1;
        padding: 15px 18px;
        margin: 20px 0;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        .header {
          flex-direction: column;
          text-align: center;
          padding: 20px 15px;
        }

        .logo-header {
          width: 70px;
          height: 70px;
          margin: 0 auto;
        }

        .logo-box {
          width: 35px;
          height: 35px;
          font-size: 28px;
        }

        .header-text h1 {
          font-size: 20px;
        }

        .header-text p {
          font-size: 12px;
        }

        .content {
          padding: 20px 15px;
        }

        .form-section {
          margin-bottom: 25px;
          padding-bottom: 20px;
        }

        .section-title {
          font-size: 16px;
        }

        .form-row {
          grid-template-columns: 1fr;
          gap: 15px;
        }

        .form-group label {
          font-size: 13px;
        }

        .checkbox-item label {
          font-size: 12px;
        }

        .buttons {
          flex-direction: column;
        }

        button {
          width: 100%;
          min-width: auto;
        }

        .signature-canvas {
          height: 130px;
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 5px;
        }

        .container {
          border-radius: 8px;
        }

        .header {
          padding: 15px 10px;
          gap: 15px;
        }

        .logo-header {
          width: 60px;
          height: 60px;
        }

        .logo-box {
          width: 30px;
          height: 30px;
          font-size: 24px;
          border: 1.5px solid black;
        }

        .header-text h1 {
          font-size: 18px;
          margin-bottom: 3px;
        }

        .header-text p {
          font-size: 11px;
        }

        .content {
          padding: 15px 12px;
        }

        .form-section {
          margin-bottom: 20px;
          padding-bottom: 15px;
        }

        .section-title {
          font-size: 15px;
        }

        .form-group {
          margin-bottom: 15px;
        }

        .form-group label {
          font-size: 12px;
          margin-bottom: 6px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          font-size: 13px;
          padding: 10px;
        }

        .checkbox-item {
          margin-bottom: 12px;
          gap: 10px;
        }

        .checkbox-item input {
          width: 18px;
          height: 18px;
        }

        .checkbox-item label {
          font-size: 11px;
          line-height: 1.4;
        }

        .signature-canvas {
          height: 110px;
        }

        .buttons {
          gap: 10px;
        }

        button {
          padding: 12px 16px;
          font-size: 13px;
        }

        .terminos-section {
          padding: 12px;
          margin: 10px 0;
        }

        .terminos-section h4 {
          font-size: 12px;
          margin: 10px 0 6px 0;
        }

        .terminos-section p {
          font-size: 11px;
          margin-bottom: 8px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo-header">
          <div class="logo-box logo-c">C</div>
          <div class="logo-box logo-o">O</div>
          <div class="logo-box logo-m">m</div>
          <div class="logo-box logo-o2">o</div>
        </div>
        <div class="header-text">
          <h1>DOCUMENTO DE CONFORMIDAD DE CAPACITACI√ìN</h1>
          <p>Capacitaci√≥n de Personal de Nuevo Ingreso - √Årea de Ventas</p>
        </div>
      </div>

      <div class="overlay" id="overlay"></div>
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>‚è≥ Generando tu PDF...</p>
      </div>
      <div class="toast" id="toast"></div>

      <div class="content">
        <div class="success-message" id="successMessage">
          <h3>‚úì Documento generado exitosamente</h3>
          <p>Se ha descargado tu PDF de conformidad</p>
        </div>

        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p>Generando tu PDF...</p>
        </div>

        <form id="mainForm">
          <!-- SECCI√ìN 1: DATOS DEL PARTICIPANTE -->
          <div class="form-section">
            <h2 class="section-title">1. DATOS DEL PARTICIPANTE</h2>

            <div class="form-row">
              <div class="form-group">
                <label>Nombre Completo *</label>
                <input type="text" id="nombre" required />
              </div>
              <div class="form-group">
                <label>N√∫mero de Tel√©fono *</label>
                <input type="tel" id="telefono" required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Correo Electr√≥nico *</label>
                <input type="email" id="email" required />
              </div>
              <div class="form-group">
                <label>DUI *</label>
                <input type="text" id="dui" required />
              </div>
            </div>

            <div class="form-group">
              <label>Canal al que aplica *</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input
                    type="radio"
                    id="canal_paneles"
                    name="canal"
                    value="Paneles"
                    required
                  />
                  <label for="canal_paneles">Paneles</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="radio"
                    id="canal_promotoria"
                    name="canal"
                    value="Promotor√≠a"
                  />
                  <label for="canal_promotoria">Promotor√≠a</label>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Supervisor *</label>
              <input type="text" id="supervisor" required />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Talla de Camisa *</label>
                <select id="talla" required>
                  <option value="">Selecciona una talla</option>
                  <option value="XS">XS</option>
                  <option value="S">S</option>
                  <option value="M">M</option>
                  <option value="L">L</option>
                  <option value="XL">XL</option>
                  <option value="XXL">XXL</option>
                </select>
              </div>
              <div class="form-group">
                <label>Fecha *</label>
                <input type="date" id="fecha" required />
              </div>
            </div>

            <div class="form-group">
              <label>Reingreso a COMO *</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input
                    type="radio"
                    id="reingreso_como_si"
                    name="reingreso_como"
                    value="Si"
                    required
                  />
                  <label for="reingreso_como_si">Si</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="radio"
                    id="reingreso_como_no"
                    name="reingreso_como"
                    value="No"
                  />
                  <label for="reingreso_como_no">No</label>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Reingreso a la Marca *</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input
                    type="radio"
                    id="reingreso_marca_si"
                    name="reingreso_marca"
                    value="Si"
                    required
                  />
                  <label for="reingreso_marca_si">Si</label>
                </div>
                <div class="checkbox-item">
                  <input
                    type="radio"
                    id="reingreso_marca_no"
                    name="reingreso_marca"
                    value="No"
                  />
                  <label for="reingreso_marca_no">No</label>
                </div>
              </div>
            </div>
          </div>

          <!-- SECCI√ìN 2: INFORMACI√ìN DE LA CAPACITACI√ìN -->
          <div class="form-section">
            <h2 class="section-title">2. INFORMACI√ìN DE LA CAPACITACI√ìN</h2>

            <div class="form-group">
              <label>Tipo de Capacitaci√≥n</label>
              <input
                type="text"
                value="Capacitaci√≥n de personal de nuevo ingreso del √°rea de ventas"
                readonly
                style="background: #f5f5f5"
              />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Fecha de Capacitaci√≥n *</label>
                <input type="date" id="fechaCapacitacion" required />
              </div>
              <div class="form-group">
                <label>Duraci√≥n *</label>
                <select id="duracion" required>
                  <option value="">Selecciona duraci√≥n</option>
                  <option value="Media jornada (1 d√≠a)">
                    Media jornada (1 d√≠a)
                  </option>
                  <option value="Jornada completa (2 d√≠as o m√°s)">
                    Jornada completa (2 d√≠as o m√°s)
                  </option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label>Instructor *</label>
              <select id="instructor" required>
                <option value="">Selecciona instructor</option>
                <option value="Pedro Fernando Mel√©ndez Ram√≠rez">
                  Pedro Fernando Mel√©ndez Ram√≠rez
                </option>
                <option value="Rodolfo Alberto Hern√°ndez Hern√°ndez">
                  Rodolfo Alberto Hern√°ndez Hern√°ndez
                </option>
              </select>
            </div>
          </div>

          <!-- SECCI√ìN 3: CONTENIDOS BRINDADOS -->
          <div class="form-section">
            <h2 class="section-title">3. CONTENIDOS BRINDADOS</h2>
            <p style="margin-bottom: 15px; color: #666; font-size: 13px">
              Seleccione los temas tratados durante la capacitaci√≥n:
            </p>

            <div class="checkbox-group">
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont1"
                  name="contenidos"
                  value="Pol√≠ticas y din√°mica de trabajo de la empresa"
                />
                <label for="cont1"
                  >Pol√≠ticas y din√°mica de trabajo de la empresa</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont2"
                  name="contenidos"
                  value="Horarios de trabajo (Los horarios de entrada y salida pueden variar seg√∫n consideraciones de supervisor y temporada)"
                />
                <label for="cont2"
                  >Horarios de trabajo (Los horarios de entrada y salida pueden
                  variar seg√∫n consideraciones de supervisor y temporada)</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont3"
                  name="contenidos"
                  value="Introducci√≥n al puesto de trabajo"
                />
                <label for="cont3">Introducci√≥n al puesto de trabajo</label>
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont4"
                  name="contenidos"
                  value="Informaci√≥n sobre acciones de personal"
                />
                <label for="cont4"
                  >Informaci√≥n sobre acciones de personal</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont5"
                  name="contenidos"
                  value="Activaci√≥n de simcard, y realizaci√≥n de portabilidad en bot y p√°gina web"
                />
                <label for="cont5"
                  >Activaci√≥n de simcard, y realizaci√≥n de portabilidad en bot y
                  p√°gina web</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont6"
                  name="contenidos"
                  value="Registro de ventas en Aura e Icaro"
                />
                <label for="cont6">Registro de ventas en Aura e Icaro</label>
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont7"
                  name="contenidos"
                  value="Oferta comercial de paquetes, smartphones al cr√©dito y contado en plataformas"
                />
                <label for="cont7"
                  >Oferta comercial de paquetes, smartphones al cr√©dito y
                  contado en plataformas</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont8"
                  name="contenidos"
                  value="Pol√≠tica interna de la empresa sobre Fraude, usurpaci√≥n de identidad y sobreprecios de los productos prepago de Movistar y COMO"
                />
                <label for="cont8"
                  >Pol√≠tica interna de la empresa sobre Fraude, usurpaci√≥n de
                  identidad y sobreprecios de los productos prepago de Movistar
                  y COMO</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont9"
                  name="contenidos"
                  value="Ejercicio en bot de telef√≥nica para el ingreso de activaciones y portabilidad"
                />
                <label for="cont9"
                  >Ejercicio en bot de telef√≥nica para el ingreso de
                  activaciones y portabilidad</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont10"
                  name="contenidos"
                  value="Que la plaza es 100% de campo y recomendaciones para ejercerlo"
                />
                <label for="cont10"
                  >Que la plaza es 100% de campo y recomendaciones para
                  ejercerlo</label
                >
              </div>
              <div class="checkbox-item">
                <input
                  type="checkbox"
                  id="cont11"
                  name="contenidos"
                  value="Las condiciones de comisiones actuales"
                />
                <label for="cont11"
                  >Las condiciones de comisiones actuales</label
                >
              </div>
            </div>
          </div>

          <!-- SECCI√ìN 4: CONFIRMACI√ìN DE COMPRENSI√ìN -->
          <div class="form-section">
            <h2 class="section-title">4. POR LO QUE HAGO CONSTAR QUE:</h2>

            <div class="checkbox-group">
              <div class="checkbox-item">
                <input type="checkbox" id="comp1" name="comprension" required />
                <label for="comp1"
                  >Comprend√≠ la din√°mica de trabajo, horarios y permisos
                  laborales y s√© cu√°les son los procesos para seguir o en su
                  defecto a qui√©n dirigirme ante una situaci√≥n que pueda
                  enfrentar que imposibilite el cumplimiento de estos y los
                  procesos o consecuencias de no seguir los criterios bajo la
                  normativa del reglamento y pol√≠ticas internas tanto del c√≥digo
                  de trabajo que la empresa implementar√°.</label
                >
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="comp2" name="comprension" required />
                <label for="comp2"
                  >Comprend√≠ la din√°mica de trabajo en campo y el manejo de los
                  sistemas de activaci√≥n, registro y facturaci√≥n que utilizar√©,
                  comprometi√©ndome a ejercer mis funciones de ventas bajo los
                  criterios y lineamiento de la empresa, tambi√©n a usar los
                  sistemas de manera adecuada bajo los criterios del empleador y
                  a reportar de manera activa alg√∫n imprevisto o problema que
                  sufra en los mismos con mi jefe inmediato o personal instruido
                  para el apoyo de este.</label
                >
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="comp3" name="comprension" required />
                <label for="comp3"
                  >Fui instruido/a sobre la pol√≠tica interna de la empresa sobre
                  Fraude, usurpaci√≥n de identidad y sobreprecios de los
                  productos prepago de Movistar a comercializar en mis
                  actividades diarias y las consecuencias de estas malas
                  pr√°cticas.</label
                >
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="comp4" name="comprension" required />
                <label for="comp4"
                  >Comprend√≠ la oferta comercial activa presentada por el
                  capacitador y me comprometo a darle seguimiento y repaso a la
                  oferta y las variantes que se puedan presentar por
                  Movistar.</label
                >
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="comp5" name="comprension" required />
                <label for="comp5"
                  >Comprend√≠ la responsabilidad que poseo al portar uniformes
                  que representen la marca MOVISTAR EL SALVADOR comprometi√©ndome
                  a hacer un buen uso de este durante horario laboral o fuera
                  del mismo y comprendo las consecuencias por el mal uso de
                  este.</label
                >
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="comp6" name="comprension" required />
                <label for="comp6"
                  >Comprend√≠ y acepto las condiciones de pago de comisi√≥n
                  proporcional durante 3 meses: Me doy por enterado que en caso
                  de no cumplir la meta establecida para el canal y departamento
                  correspondiente del KPI de SALDO Y ACTIVACIONES se me pagar√°
                  el 15% del saldo inicial (Primer recarga) de las activaciones
                  de calidad, y que este beneficio estar√° habilitado hasta tener
                  ventas en N3 (los primeros 3 meses de relaci√≥n laboral) para
                  medici√≥n mientras SIGA LABORANDO PARA LA EMPRESA, s√© que en el
                  caso de renuncia o despido la medici√≥n se realizar√° seg√∫n meta
                  correspondiente del canal y departamento como vendedor antiguo
                  anulando lo anteriormente establecido al principio de este
                  punto.</label
                >
              </div>
            </div>
          </div>

          <!-- SECCI√ìN 5: T√âRMINOS Y CONDICIONES -->
          <div class="form-section">
            <h2 class="section-title">5. ACEPTACI√ìN Y T√âRMINOS</h2>

            <div class="info-box">
              <strong>T√âRMINOS Y CONDICIONES GENERALES</strong>
            </div>

            <div class="terminos-section">
              <h4>1. Naturaleza del documento:</h4>
              <p>
                Esta constancia no constituye un contrato laboral, ni genera
                derechos o compromisos adicionales a los establecidos por la ley
                o por el contrato individual de trabajo. Su finalidad es dejar
                constancia de la participaci√≥n y comprensi√≥n de los temas
                abordados durante la capacitaci√≥n de inducci√≥n.
              </p>

              <h4>2. Firma digital:</h4>
              <p>
                Al firmar electr√≥nicamente este documento, el participante
                confirma su asistencia y comprensi√≥n de los contenidos
                descritos, as√≠ como su compromiso de aplicar lo aprendido en el
                desempe√±o de sus funciones. La firma digital o electr√≥nica tiene
                la misma validez que una firma manuscrita para efectos de
                registro interno y cumplimiento de procesos de capacitaci√≥n.
              </p>

              <h4>3. Resguardo y confidencialidad:</h4>
              <p>
                El documento ser√° almacenado en formato digital dentro del
                sistema interno de la empresa y una copia ser√° entregada al
                participante de forma virtual para su propio registro y
                respaldo. Esta constancia se utiliza como evidencia
                administrativa de participaci√≥n y comprensi√≥n de los temas
                explicados durante la inducci√≥n, incluyendo condiciones
                operativas, din√°micas laborales y pol√≠ticas internas de
                comisiones y desempe√±o. Su prop√≥sito es servir de respaldo en
                caso de requerirse una verificaci√≥n interna o ante autoridades
                competentes sobre los contenidos abordados en la capacitaci√≥n.
              </p>

              <h4>4. Actualizaci√≥n de contenidos:</h4>
              <p>
                La empresa podr√° actualizar los temas de inducci√≥n o modificar
                procedimientos seg√∫n necesidades operativas, legales o de
                seguridad. El colaborador se compromete a mantenerse informado
                de dichos cambios y participar en futuras capacitaciones cuando
                sean convocadas.
              </p>

              <h4>5. Aceptaci√≥n:</h4>
              <p>
                Al firmar, el colaborador declara que ley√≥, comprendi√≥ y acepta
                el contenido del presente documento, as√≠ como las pol√≠ticas,
                din√°micas y procedimientos explicados durante la capacitaci√≥n.
              </p>
            </div>

            <div class="checkbox-group">
              <div class="checkbox-item">
                <input type="checkbox" id="acepta" required />
                <label for="acepta"
                  >Acepto los t√©rminos y condiciones descritos arriba</label
                >
              </div>
            </div>
          </div>

          <!-- SECCI√ìN 6: FIRMA DIGITAL -->
          <div class="form-section">
            <h2 class="section-title">6. FIRMA DIGITAL</h2>
            <p style="margin-bottom: 15px; color: #666; font-size: 13px">
              Por favor, firma en el espacio inferior. Usa tu mouse o dedo en
              dispositivos t√°ctiles.
            </p>

            <canvas id="signatureCanvas" class="signature-canvas"></canvas>
            <div id="signatureStatus" class="signature-status status-pending">
              ‚úèÔ∏è Esperando firma...
            </div>
            <div class="buttons">
              <button
                type="button"
                class="btn-secondary"
                onclick="clearSignature()"
              >
                üîÑ Limpiar Firma
              </button>
            </div>
          </div>

          <!-- BOTONES FINALES -->
          <div class="form-section" style="border-bottom: none">
            <div class="buttons">
              <button
                type="button"
                class="btn-secondary"
                onclick="limpiarFormulario()"
              >
                Limpiar Formulario
              </button>
              <button type="submit" class="btn-primary">
                ‚úì Generar PDF de Conformidad
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <script>
      const canvas = document.getElementById("signatureCanvas");
      const ctx = canvas.getContext("2d");
      let isDrawing = false;
      let hasSignature = false;

      function resizeCanvas() {
        const rect = canvas.parentElement.getBoundingClientRect();
        canvas.width = rect.width - 4;
        canvas.height = 150;
      }

      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      canvas.addEventListener("mousedown", startDrawing);
      canvas.addEventListener("mousemove", draw);
      canvas.addEventListener("mouseup", stopDrawing);
      canvas.addEventListener("touchstart", handleTouch, false);
      canvas.addEventListener("touchmove", handleTouch, false);
      canvas.addEventListener("touchend", stopDrawing);

      function startDrawing(e) {
        if (e.button !== 0) return;
        isDrawing = true;
        hasSignature = true;
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) * (canvas.width / rect.width);
        const y = (e.clientY - rect.top) * (canvas.height / rect.height);
        ctx.beginPath();
        ctx.moveTo(x, y);
        updateStatus();
      }

      function draw(e) {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) * (canvas.width / rect.width);
        const y = (e.clientY - rect.top) * (canvas.height / rect.height);
        ctx.lineWidth = 2;
        ctx.lineCap = "round";
        ctx.lineJoin = "round";
        ctx.strokeStyle = "#0d47a1";
        ctx.lineTo(x, y);
        ctx.stroke();
      }

      function handleTouch(e) {
        e.preventDefault();
        if (e.type === "touchstart") {
          isDrawing = true;
          hasSignature = true;
        }
        const touch = e.touches[0];
        const rect = canvas.getBoundingClientRect();
        const x = (touch.clientX - rect.left) * (canvas.width / rect.width);
        const y = (touch.clientY - rect.top) * (canvas.height / rect.height);

        if (e.type === "touchstart") {
          ctx.beginPath();
          ctx.moveTo(x, y);
        } else if (e.type === "touchmove") {
          ctx.lineWidth = 2;
          ctx.lineCap = "round";
          ctx.lineJoin = "round";
          ctx.strokeStyle = "#0d47a1";
          ctx.lineTo(x, y);
          ctx.stroke();
        }
        updateStatus();
      }

      function stopDrawing() {
        isDrawing = false;
      }

      function updateStatus() {
        const status = document.getElementById("signatureStatus");
        if (hasSignature) {
          status.classList.remove("status-pending");
          status.classList.add("status-completed");
          status.innerHTML = "‚úì Firma completada";
        }
      }

      function clearSignature() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        hasSignature = false;
        const status = document.getElementById("signatureStatus");
        status.classList.add("status-pending");
        status.classList.remove("status-completed");
        status.innerHTML = "‚úèÔ∏è Esperando firma...";
      }

      function limpiarFormulario() {
        document.getElementById("mainForm").reset();
        clearSignature();
        document.getElementById("fecha").valueAsDate = new Date();
      }

      document.getElementById("fecha").valueAsDate = new Date();

      function getContenidosSeleccionados() {
        const checkboxes = document.querySelectorAll(
          'input[name="contenidos"]:checked'
        );
        return Array.from(checkboxes).map((cb) => cb.value);
      }

      // Funci√≥n para mostrar toast
      function showToast(message, type = "success") {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.className = "toast show " + type;

        setTimeout(() => {
          toast.classList.remove("show");
        }, 4000);
      }

      document
        .getElementById("mainForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          if (!hasSignature) {
            showToast(
              "‚ùå Por favor, firma el documento antes de continuar",
              "error"
            );
            return;
          }

          const comprensiones = document.querySelectorAll(
            'input[name="comprension"]:checked'
          ).length;
          if (comprensiones < 6) {
            showToast(
              "‚ö†Ô∏è Por favor, marca todas las casillas de comprensi√≥n",
              "warning"
            );
            return;
          }

          // Mostrar loading
          document.getElementById("loading").classList.add("show");
          document.getElementById("overlay").classList.add("show");

          setTimeout(() => {
            try {
              generarPDF();
              showToast("‚úì PDF generado exitosamente", "success");
            } catch (error) {
              showToast("‚ùå Error al generar PDF", "error");
              console.error(error);
            } finally {
              // Ocultar loading
              document.getElementById("loading").classList.remove("show");
              document.getElementById("overlay").classList.remove("show");
              limpiarFormulario();
            }
          }, 1200);
        });

      function generarPDF() {
        const { jsPDF } = window.jspdf;

        const nombre = document.getElementById("nombre").value;
        const telefono = document.getElementById("telefono").value;
        const email = document.getElementById("email").value;
        const dui = document.getElementById("dui").value;
        const canal = document.querySelector(
          'input[name="canal"]:checked'
        ).value;
        const supervisor = document.getElementById("supervisor").value;
        const talla = document.getElementById("talla").value;
        const fecha = document.getElementById("fecha").value;
        const reingresoComo = document.querySelector(
          'input[name="reingreso_como"]:checked'
        ).value;
        const reingresoMarca = document.querySelector(
          'input[name="reingreso_marca"]:checked'
        ).value;
        const fechaCapacitacion =
          document.getElementById("fechaCapacitacion").value;
        const duracion = document.getElementById("duracion").value;
        const instructor = document.getElementById("instructor").value;
        const contenidos = getContenidosSeleccionados();
        const signatureImage = canvas.toDataURL("image/png");
        const fechaActual = new Date().toLocaleDateString("es-ES");

        const doc = new jsPDF("p", "mm", "a4");
        const pageWidth = doc.internal.pageSize.getWidth(); // 210mm
        const pageHeight = doc.internal.pageSize.getHeight(); // 297mm
        const margin = 12; // M√°rgenes m√°s peque√±os
        let y = 35; // Aumentado de 30 a 35

        // üî∑ Encabezado institucional
        function header() {
          doc.setFillColor(0, 51, 102);
          doc.rect(0, 0, pageWidth, 28, "F");
          doc.setTextColor(255, 255, 255);
          doc.setFont("times", "bold");
          doc.setFontSize(11);
          doc.text(
            "DOCUMENTO DE CONFORMIDAD DE CAPACITACI√ìN",
            pageWidth / 2,
            8,
            { align: "center" }
          );
          doc.setFontSize(8);
          doc.setFont("times", "normal");
          doc.text(
            "Capacitaci√≥n de Personal de Nuevo Ingreso ‚Äì √Årea de Ventas",
            pageWidth / 2,
            14,
            { align: "center" }
          );
          doc.setFontSize(7);
          doc.setFont("times", "bold");
          doc.text(
            "COMERCIALIZACI√ìN EN MOVIMIENTO S.A. DE C.V.",
            pageWidth / 2,
            20,
            { align: "center" }
          );
        }

        // üî∑ Pie de p√°gina
        function footer() {
          doc.setDrawColor(150);
          doc.setLineWidth(0.3);
          doc.line(
            margin,
            pageHeight - 10,
            pageWidth - margin,
            pageHeight - 10
          );
          doc.setFontSize(6.5);
          doc.setTextColor(100);
          doc.text(
            "Documento emitido por Comercializaci√≥n en Movimiento S.A. de C.V. | Confidencial - Uso Interno",
            pageWidth / 2,
            pageHeight - 6,
            { align: "center" }
          );
        }

        function newPage() {
          doc.addPage();
          header();
          footer();
          y = 35; // Aumentado de 32 a 35
        }

        function checkSpace(extra = 12) {
          if (y + extra > pageHeight - 15) newPage();
        }

        // üî∑ Texto con ancho m√°ximo controlado
        function addParagraph(text, lineHeight = 4, fontSize = 9) {
          const maxWidth = pageWidth - 2 * margin - 2;
          const lines = doc.splitTextToSize(text, maxWidth);
          doc.setFontSize(fontSize);
          lines.forEach((line) => {
            checkSpace(lineHeight);
            doc.text(line, margin + 1, y);
            y += lineHeight;
          });
          y += 0.5;
        }

        header();
        footer();

        // üîπ 1. Datos del participante
        doc.setFont("times", "bold");
        doc.setTextColor(0, 51, 102);
        doc.setFontSize(10);
        doc.text("1. DATOS DEL PARTICIPANTE", margin, y);
        y += 4.5;
        doc.setDrawColor(0, 51, 102);
        doc.setLineWidth(0.35);
        doc.line(margin, y, pageWidth - margin, y);
        y += 5;

        doc.setFont("times", "normal");
        doc.setTextColor(0);
        addParagraph(`Nombre Completo: ${nombre}`, 3.8, 9);
        addParagraph(`DUI: ${dui}`, 3.8, 9);
        addParagraph(`Tel√©fono: ${telefono}`, 3.8, 9);
        addParagraph(`Correo Electr√≥nico: ${email}`, 3.8, 9);
        addParagraph(`Canal: ${canal}`, 3.8, 9);
        addParagraph(`Supervisor: ${supervisor}`, 3.8, 9);
        addParagraph(`Talla de Camisa: ${talla}`, 3.8, 9);
        addParagraph(`Fecha: ${fecha}`, 3.8, 9);
        addParagraph(`Reingreso a COMO: ${reingresoComo}`, 3.8, 9);
        addParagraph(`Reingreso a la Marca: ${reingresoMarca}`, 3.8, 9);
        y += 2;

        // üîπ 2. Informaci√≥n de la Capacitaci√≥n
        doc.setFont("times", "bold");
        doc.setTextColor(0, 51, 102);
        doc.setFontSize(10);
        doc.text("2. INFORMACI√ìN DE LA CAPACITACI√ìN", margin, y);
        y += 4.5;
        doc.line(margin, y, pageWidth - margin, y);
        y += 5;

        doc.setFont("times", "normal");
        doc.setTextColor(0);
        addParagraph(`Fecha de Capacitaci√≥n: ${fechaCapacitacion}`, 3.8, 9);
        addParagraph(`Duraci√≥n: ${duracion}`, 3.8, 9);
        addParagraph(`Instructor: ${instructor}`, 3.8, 9);
        y += 2;

        // üîπ 3. Contenidos brindados
        checkSpace();
        doc.setFont("times", "bold");
        doc.setTextColor(0, 51, 102);
        doc.setFontSize(10);
        doc.text("3. CONTENIDOS BRINDADOS", margin, y);
        y += 4.5;
        doc.line(margin, y, pageWidth - margin, y);
        y += 5;

        doc.setFont("times", "normal");
        doc.setTextColor(0);
        contenidos.forEach((c, i) => {
          addParagraph(`${i + 1}. ${c}`, 3.8, 8.5);
        });
        y += 1.5;

        // üîπ 4. Declaraciones
        checkSpace();
        doc.setFont("times", "bold");
        doc.setTextColor(0, 51, 102);
        doc.setFontSize(10);
        doc.text("4. POR LO QUE HAGO CONSTAR QUE:", margin, y);
        y += 4.5;
        doc.line(margin, y, pageWidth - margin, y);
        y += 5;

        doc.setFont("times", "normal");
        doc.setTextColor(0);
        const declaraciones = [
          "Comprend√≠ la din√°mica de trabajo, horarios y permisos laborales y s√© cu√°les son los procesos para seguir o en su defecto a qui√©n dirigirme ante una situaci√≥n que pueda enfrentar que imposibilite el cumplimiento de estos y los procesos o consecuencias de no seguir los criterios bajo la normativa del reglamento y pol√≠ticas internas tanto del c√≥digo de trabajo que la empresa implementar√°.",
          "Comprend√≠ la din√°mica de trabajo en campo y el manejo de los sistemas de activaci√≥n, registro y facturaci√≥n que utilizar√©, comprometi√©ndome a ejercer mis funciones de ventas bajo los criterios y lineamiento de la empresa, tambi√©n a usar los sistemas de manera adecuada bajo los criterios del empleador y a reportar de manera activa alg√∫n imprevisto o problema que sufra en los mismos con mi jefe inmediato o personal instruido para el apoyo de este.",
          "Fui instruido/a sobre la pol√≠tica interna de la empresa sobre Fraude, usurpaci√≥n de identidad y sobreprecios de los productos prepago de Movistar a comercializar en mis actividades diarias y las consecuencias de estas malas pr√°cticas.",
          "Comprend√≠ la oferta comercial activa presentada por el capacitador y me comprometo a darle seguimiento y repaso a la oferta y las variantes que se puedan presentar por Movistar.",
          "Comprend√≠ la responsabilidad que poseo al portar uniformes que representen la marca MOVISTAR EL SALVADOR comprometi√©ndome a hacer un buen uso de este durante horario laboral o fuera del mismo y comprendo las consecuencias por el mal uso de este.",
          "Comprend√≠ y acepto las condiciones de pago de comisi√≥n proporcional durante 3 meses: Me doy por enterado que en caso de no cumplir la meta establecida para el canal y departamento correspondiente del KPI de SALDO Y ACTIVACIONES se me pagar√° el 15% del saldo inicial (Primer recarga) de las activaciones de calidad, y que este beneficio estar√° habilitado hasta tener ventas en N3 (los primeros 3 meses de relaci√≥n laboral) para medici√≥n mientras SIGA LABORANDO PARA LA EMPRESA, s√© que en el caso de renuncia o despido la medici√≥n se realizar√° seg√∫n meta correspondiente del canal y departamento como vendedor antiguo anulando lo anteriormente establecido al principio de este punto.",
        ];
        declaraciones.forEach((t, i) => {
          addParagraph(`${i + 1}. ${t}`, 4.2, 8.5);
        });

        // üîπ 5. T√©rminos y Condiciones
        newPage();
        doc.setFont("times", "bold");
        doc.setTextColor(0, 51, 102);
        doc.setFontSize(10);
        doc.text("5. T√âRMINOS Y CONDICIONES GENERALES", margin, y);
        y += 4.5;
        doc.line(margin, y, pageWidth - margin, y);
        y += 5;

        const terminos = [
          {
            titulo: "1. Naturaleza del documento:",
            texto:
              "Esta constancia no constituye un contrato laboral ni genera derechos adicionales. Su finalidad es dejar constancia de la participaci√≥n y comprensi√≥n de los temas abordados durante la capacitaci√≥n de inducci√≥n.",
          },
          {
            titulo: "2. Firma digital:",
            texto:
              "La firma electr√≥nica aqu√≠ plasmada tiene validez legal equivalente a una firma manuscrita, confirmando la asistencia y comprensi√≥n del participante.",
          },
          {
            titulo: "3. Resguardo y confidencialidad:",
            texto:
              "El documento ser√° almacenado digitalmente y protegido conforme a las pol√≠ticas de confidencialidad de Comercializaci√≥n en Movimiento S.A. de C.V., siendo de uso exclusivo interno.",
          },
          {
            titulo: "4. Actualizaci√≥n de contenidos:",
            texto:
              "La empresa podr√° modificar los contenidos o procedimientos seg√∫n las necesidades operativas o normativas, comprometi√©ndose el colaborador a mantenerse informado.",
          },
          {
            titulo: "5. Aceptaci√≥n:",
            texto:
              "El firmante declara haber le√≠do, comprendido y aceptado todos los t√©rminos y pol√≠ticas establecidas en la presente conformidad.",
          },
        ];

        doc.setFont("times", "normal");
        doc.setTextColor(0);
        terminos.forEach((t) => {
          checkSpace(10);
          doc.setFont("times", "bold");
          doc.setFontSize(8.5);
          doc.text(t.titulo, margin + 1, y);
          y += 3.5;
          doc.setFont("times", "normal");
          addParagraph(t.texto, 3.8, 8.5);
        });

        // üîπ 6. Firma
        newPage();
        doc.setFont("times", "bold");
        doc.setTextColor(0, 51, 102);
        doc.setFontSize(10);
        doc.text("6. FIRMA DIGITAL", margin, y);
        y += 4.5;
        doc.line(margin, y, pageWidth - margin, y);
        y += 8;

        // Agregar imagen de firma
        if (signatureImage && signatureImage !== "data:image/png;base64,") {
          const sigWidth = pageWidth - 2 * margin - 4;
          const sigHeight = 30;
          doc.addImage(
            signatureImage,
            "PNG",
            margin + 2,
            y,
            sigWidth,
            sigHeight
          );
          y += sigHeight + 5;
        }

        doc.setFont("times", "normal");
        doc.setFontSize(9);
        doc.setTextColor(0);
        doc.text(`Nombre: ${nombre}`, margin + 1, y);
        y += 4;
        doc.text(`DUI: ${dui}`, margin + 1, y);
        y += 4;
        doc.text(`Fecha de firma: ${fechaActual}`, margin + 1, y);

        // ‚úÖ Guardar archivo
        const filename = `Conformidad_${nombre.replace(/\s+/g, "_")}_${dui}_${
          new Date().toISOString().split("T")[0]
        }.pdf`;
        doc.save(filename);
      }
    </script>
  </body>
</html>
